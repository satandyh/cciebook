---
description: 'Цикл 12, Тема 67: OSPF Authentication'
---

# Лабораторная по теме

{% file src="../../.gitbook/assets/lab067.zip" caption="Начальная конфигурация" %}

1. Загрузить начальную конфигурацию всех устройств.
2. Для задания используется логическая и физическая топологии проекта.
3. На маршрутизаторах R6, R7 настроить classic mode EIGRP следующим образом:
   1. Номер автономной системы 100
   2. На R6 интерфейсы должны анонсировать все префиксы :
   3. На R7 только E0/1.67 и Loopback 0 интерфейсы должны участвовать в процессе EIGRP
   4. Настроить аутентификацию на интерфейсах, подключенных к маршрутизаторам Classic Mode следующим образом:
      1. Название ключа CLASSIC
      2. Номер ключа 1
      3. Пароль CLASSIC
   5. Настроить аутентификацию на интерфейсах, подключенных к маршрутизаторам Named Mode следующим образом:
      1. Название ключа CLASSIC\_NAMED
      2. Номер ключа 1
      3. Пароль CLASSIC\_NAMED
4. На маршрутизаторах R2, R3, R4, R5 настроить Named mode EIGRP следующим образом:
   1. Имя NAMEDEIGRP
   2. На R5 и R4 интерфейсы должны анонсировать все префиксы :
   3. На R2 и R3 E0/1.235 и Loopback 0 интерфейсы должны участвовать в процессе EIGRP
   4. Настроить аутентификацию на интерфейсах, подключенных к маршрутизаторам с Named Mode следующим образом:
      1. Пароль NAMED
   5. Настроить аутентификацию на интерфейсах, подключенных к маршрутизаторам с Classic Mode следующим образом:
      1. Название ключа CLASSIC\_NAMED
      2. Номер ключа 1
      3. Пароль CLASSIC\_NAMED
5. На R3 настроить GRE туннель следующим образом:
   1. В качестве источника туннеля использовать Loopback интерфейс R3
   2. В качестве назначения использовать Loopback интерфейс R7
   3. В качестве IP адреса туннеля использовать Underlay адрес 144.1.0.3/24
   4. Настроить OSPF процесс 100 в Ареа 0 на интерфейсе туннеля
6. На R7 настроить туннель следующим образом:
   1. В качестве источника туннеля использовать Loopback интерфейс R7
   2. В качестве назначения использовать Loopback интерфейс R3
   3. В качестве IP адреса туннеля использовать Underlay адрес 144.1.0.7/24
   4. Настроить OSPF процесс 100 в Ареа 0 на интерфейсе туннеля
7. Настроить фазу 1 IPsec на R3 и R7 следующим образом:
   1. Номер политики 10
   2. Шифрование 3 DES
   3. Хэш MD5
   4. Аутентификация PSK
   5. Diffie-Hellman 5
   6. Источником для пароля «GRE» должен служить Loopback адрес
8. Настроить фазу 2 IPsec на R3 и R7 следующим образом:
   1. В ACL под названием GRE разрешить все GRE пакеты
   2. Создать Transform Set под названием ESP\_AES\_SHA:
      1. в качестве протокола использовать ESP
      2. в качестве аутентификации использовать HMAC SHA1
   3. Создать Crypto Map под названием GRE\_IPSEC:
      1. будет матчить ACL под названием GRE
      2. будет использовать Transform Set под названием ESP\_AES\_SHA
      3. в качестве пира будет использовать Loopback адреса R3, R7
      4. в качестве локального адреса указать Loopback адреса R3, R7
9. На R3 и R7 применить Crypto Map на следующих интерфейсах
   1. R3 — E0/1.34 и E0/1.235
   2. R7 — E0/1.67
10. На R7, R8, R9, R10 Настроить OSPF процесс 100 в Ареа 107 на следующих интерфейсах:
    1. R7- E0/1.78
    2. R8- E0/1.78, E0/1.89, Loopback 0
    3. R9 — E0/1.9, E0/1.89, Loopback 0, Mul1
    4. R10 — Mul1
    5. Между маршрутизаторами настроить тип аутентификации Type 0
11. На R1, R2, R3 Настроить OSPF процесс 100 в Ареа 103 на следующих интерфейсах:
    1. R1- E0/1.12
    2. R2- E0/1.12, E0/1.23, Loopback 0,
    3. R3 — E0/1.23
    4. Между маршрутизаторами настроить тип аутентификации Type 1
12. На R10 настроить OSPF процесс 100 в Ареа 10 на следующих интерфейсах:
    1. R10- Loopback 0
13. Настроить Virtual Link  к Area 0 следующим образом:
    1. На R7 в сторону R10
    2. На R10 в сторону R7
    3. На Virtual Link настроить аутентификацию следующим образом:
       1. На R7 — глобально
       2. На R10 — на  Virtual Link
       3. Применить пароль VIRTUAL
       4. Настроить тип аутентификации на Virtual Link Type 2
14. На интерфейсе Tunnel 0 настроить тип аутентификации следующим образом:
    1. Название ключа OSPF\_TUNNEL
    2. Номер ключа 1
    3. Пароль SHA256
    4. алгоритм SHA256

{% file src="../../.gitbook/assets/lab067\_answers.zip" caption="Конечная конфигурация" %}

