---
description: 'Цикл 18, Тема 103: OSPF Convergence Optimization & Scalability'
---

# Лабораторная по теме 103

{% file src="../../.gitbook/assets/lab103.zip" caption="Начальная конфигурация" %}

Загрузить начальную конфигурацию всех устройств.

1. 1. Для задания используется логическая и физическая топологии проекта.
   2. На маршрутизаторах R1, R2 настроить OSPF процесс 100 в Аrea 21 на следующих интерфейсах c типом сети Point-to-Point:
      1. 1. R2- E0/1.12
         2. R1 — E0/1.12, Loopback0
   3. На маршрутизаторах R2, R5 настроить OSPF процесс 100 в Аrea 52 на следующих интерфейсах c типом сети Point-to-Point:
      1. R2- E0/1.235
      2. R5 — E0/1.235, Loopback0
   4. На маршрутизаторах R2, R3, R4 настроить OSPF процесс 100 в Аrea 42 на следующих интерфейсах c типом сети Point-to-Point:
      1. R2- E0/1.23, Loopback0
      2. R3 — E0/1.23, E0/1.34, Loopback0
      3. R4 — E0/1.34, Loopback0
   5. На маршрутизаторах R4, R5, R6 настроить OSPF процесс 100 в Аrea 0 на следующих интерфейсах:
      1. R4, R5 -E0/1.456,
      2. R6- E0/1.456, Loopback 0.
   6. На маршрутизаторах R6 и R7 настроить OSPF процесс 76 в Аrea 76 на следующих интерфейсе E0/1.67
   7. На маршрутизаторах R2, R4, R5 настроить OSPF Virtual линки следующим образом:
      1. R2- в строну R4, R5, используя IP адреса их Loopback интерфейсов
      2. R4, R5 — в сторону R2, используя IP адрес Loopback интерфейса R2
   8. На маршрутизаторе R6 настроить следующие статические маршруты:
      1. Маршрут 180.1.0.0/16, в качестве Next Hop указать интерфейс Null0
      2. Маршрут 180.1.7.7/32, в качестве Next Hop указать IP адрес интерфейса E0/1.67 маршрутизатора R7
   9. На маршрутизаторе R7 настроить следующие статические маршруты:
      1. Маршрут по-умолчанию, в качестве Next Hop указать интерфейс Null0
      2. Маршрут 180.1.6.6/32, в качестве Next Hop указать IP адрес интерфейса E0/1.67 маршрутизатора R6
   10. На маршрутизаторе R6 настроить внешний BGP процесс следующим образом:
       1. Номер AS — 6
       2. Создать ebgp сессию c маршрутизатором R7 следующим образом:
          1. Указать в качестве Remote AS номер 7
          2. Позволить увеличение значения TTL только до 2 хопов
          3. Указать в качестве Update Source интерфейс Loopback0
          4. Адвертайзить маршрут 180.1.0.0/16
   11. На маршрутизаторе R7 настроить внешний BGP процесс следующим образом:
       1. Номер AS — 7
       2. Создать ebgp сессию c маршрутизатором R6 следующим образом:
          1. Указать в качестве Remote AS номер 6
          2. Позволить увеличение значения TTL только до 2 хопов
          3. Указать в качестве Update Source интерфейс Loopback0
          4. Адвертайзить маршрут по-умочанию
   12. На маршрутизаторе R6 адвертайзить маршрут по-умолчанию в OSPF процесс 100
   13. На маршрутизаторе R7 настроить редистрибьюцию BGP в OSPF процесс 100 с мерикой равной 5.
   14. На маршрутизаторе R2 настроить в OSPF процессе 100 адвертайзинг максимальной метрики при перезагрузке или выключении маршрутизатора. Указать постоянное время.
   15. На маршрутизатора R6 и R7 настроить в OSPF процессе 76 адвертайзинг максимальной метрики при загрузке BGP таблиц или выключении маршрутизатора.
   16. На маршрутизаторах R4, R5 в OSPF процессе 100 настроить адвертайзинг максимальной метрики в течении 100 секунд после перезагрузки

{% file src="../../.gitbook/assets/lab103\_answers.zip" caption="Конечная конфигурация" %}

