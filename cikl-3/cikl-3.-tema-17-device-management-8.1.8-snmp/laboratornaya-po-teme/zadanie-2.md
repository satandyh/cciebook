# Задание №2

{% file src="../../../.gitbook/assets/lab017\_task2.zip" caption="Начальная конфигурация" %}

1. Загрузить начальную конфигурацию
2. На R1 настроить SNMPv2c с такими ограничениями:
   * Для community OPEN разрешить доступ на чтение к поддереву iso, но, при этом, запретить доступ к поддеревьям: к поддереву, которое начинается на ospf и поддереву, которое начинается на ip.
   * Объект, в котором описываются поддеревья MIB, должен называться RO\_OPEN.
   * Для community ADMIN разрешить доступ на чтение и запись, но только для IP 180.100.3.3. Использовать для этого ACL 20
3. На R2 настроить SNMPv2c с такими ограничениями:
   * Для community OPEN разрешить доступ на чтение только к поддереву ifEntry. Объект, в котором описывается поддерево MIB, должен называться R2\_INT.
   * Индексы интерфейсов не должны меняться после перезагрузки
4. На R3 настроить SNMPv2c с такими ограничениями:
   * Для community ADMIN разрешить доступ на чтение и запись
   * Включить отправку сообщений trap на IP 180.1.4.4 \(Loopback R4\) используя версию 2c и community ADMIN
   * Trap должны отправляться, если интерфейс упал или поднялся; если сосед OSPF упал или поднялся.
   * Для проверки, включить на R3 debug snmp packets и сделать clear ip ospf process. Аналогично можно проверить генерацию trap, если меняется статус интерфейсов. В выводе debug вы должны увидеть сформированные сообщения trap, которые идут на R4

{% file src="../../../.gitbook/assets/lab017\_task2\_answers.zip" caption="Конечная конфигурация" %}

