---
description: 'Цикл 5. Тема 28: QoS 6.16-6.18, 6.22'
---

# Лабораторная по теме 28

{% file src="../../.gitbook/assets/lab028.zip" caption="Начальная конфигурация" %}

Задание \#1 для лабораторной:  
**Ограничения:**  
• На R3 отключены некоторые интерфейсы. По условию они должны оставаться в выключенном состоянии.  
• Не включены DMVPN интефрейсы

**Проверка:**  
• Для проверки можно воспользоваться заготовленными IP SLA на R10.

**Задания:**  
1\) Настроить на R9 для подинтерфейса Eth0/1.109 следующие настройки Class Based Policing для policy-map CustomerR10:  
\* Определить классы для следующих удаленных приложений HTTP, SSH, FTP  
\* Для классификации трафика использовать ACL по направлению к удаленным сервисам. Названия ACL использовать в соотвествии с классом определяемого трафика.  
\* Для HTTP трафика выделить 192 kbps  
\* Для SSH трафика выделить 64 kbps  
\* Для FTP трафика выделить 128 kbps  
\* Для всего остального трафика выделить 128 kbps.  
\* Для всех классов при уровне трафика ниже определенного «контрактом» применять действие transmit  
\* Для всех классов превыщающих заданный «контрактом» уровень трафика применить значение DSCP 10  
\* Для всех классов нарушающих уровень заданный «контрактом» уровень трафика применить действие drop  
\* Для всех классов задать значения Bc и Be , не менее 1 секунды и 0,5 секунды соответственно

2\) Настроить на R6 для подыинтерфейса Eth0/1.67 CB Policing для policy-map Branch1:  
\* Определить для трафика с источником от подсетей маршрутизатора R10 полосу в 384 kbps  
\* confirm, exceed, violation задать в следующим образом : передать, задать DSCP 0, отбросить  
\* Для всего остального трафика задать полосу в 512 kbps  
\* confirm, exceed, violation задать в следующим образом : передать , задать DSCP 0, отбросить  
\* Для всех типов трафика допускается значение Bc 1000 миллисекунд и Be 500 милисекунд соответственно  
\* Использовать название R10 соответсвенно.

3\) Настроить на R2 для подинтерфейса Eth 0/1.235 следующие настройки CB Policing для policy-map IncomingPolicy:  
\* определить HTTP трафик в классе HTTP\_R1  
\* трафик классифицировать только по направлению к Loopback адресу R1 как к вебсерверу  
\* выделить полосу в 384 kbps  
\* Допустимо значение Bc 800 милисекунд и Be в 400 милисекунд  
\* определить весь остальной HTTP трафик в класс HTTP\_ANY по направлению к вебсерверу  
\* выделить полосу в 96 kbps  
\* Определить трафик FTP в класс FTP по направлению к ftp серверу  
\* выделить полосу 256 kbps  
\* Определить трафик SSH в класс SSH по направлению к ssh серверу  
\* Выделить полосу 128 kbps  
\* Весь остальной трафик не лимитировать  
\* Для классов для которых явно не указано значение Bc\Be задать значение 200 и 300 миллисекунд соответственно  
\* Ко всем классам применить следующие правила confirm, exceed, violation: передать, передать , отбросить  
\* Использовать при необходимости названия соотвествующие названиям классов

{% file src="../../.gitbook/assets/lab028\_answers.zip" caption="Конечная конфигурация" %}

